/**
 * Created by MJX on 2017/5/25.
 */
var SCT={showPageLoading:function(){$("body").append('<div id="scLoadingLayer"><img class="logo" src="images/sc_logo.png"/><img class="logoloading" src="images/logoloading.png"/><div class="words normal">\u6b63\u5728\u51c6\u5907\u6570\u636e\uff0c\u8bf7\u7a0d\u7b49</div></div>')},deletePageLoading:function(){setTimeout(function(){$("#scLoadingLayer").addClass("fading")},500);setTimeout(function(){$("#scLoadingLayer").remove()},800)},showWords:function(b,a){0>=$("#scLoadingLayer").length&&SCT.showPageLoading();
    $("#scLoadingLayer .words").html(b);if(a){var f="",c="";switch(a){case "error":f="error";c="normal";break;default:f="normal",c="error"}$("#scLoadingLayer .words").removeClass(c).addClass(f)}}};function pageError(b,a){}angular.module("schools.utils",["schools.utils.resource","schools.utils.dialog"]);function isCanAjaxRetry(b){return!0}
angular.module("schools.utils.resource",[]).factory("$scResource",["$q","$timeout",function(b,a){return function(a){var c=b.defer(),g=a||{},h=a.request?a.request:{};h.babyRetryAjaxCount=3;h.request=$.ajax({async:g.async||!0,dataType:"json",url:"/cir/"+g.url,timeout:g.timeout||18E4,data:g.data||{},type:"POST",success:function(a){h.babyRetryAjaxCount--;c.resolve(a)},error:function(a){h.babyRetryAjaxCount--;console.log("error:======:",a);c.reject()}});return c.promise}}]);
angular.module("schools.utils.dialog",[]).constant("$scDialogConfig",{confirm:{head:{title:"\u6e29\u99a8\u63d0\u793a",close:!0,hide:!1},inner:{type:"warn",main:"\u786e\u8ba4\u5220\u9664?",desc:""},foot:{hasConfirmBtn:!0,confirmBtnName:"\u786e\u5b9a",confirmCallBack:null,hasCancelBtn:!0,cancelBtnName:"\u53d6\u6d88",cancelCallBack:null}}}).service("$scDialog",["$scDialogConfig","$compile","$rootScope","$q","$timeout",function(b,a,f,c,g){function h(){setTimeout(function(){$("#b_dialog_html .b_dialog_wrap").css({"margin-top":-($("#b_dialog_html .b_dialog").height()/
2+50),"margin-left":-$("#b_dialog_html .b_dialog").width()/2,visibility:"visible"}).animate({opacity:1},200);$("#b_dialog_html .b_mask").css({visibility:"visible"}).animate({opacity:.3},200)},0)}return{confirm:function(g,d){var e;d=d||f;d.myConfirmOptions=angular.extend({},b.confirm,g);d.myConfirmOptions.defer=c.defer();e='<div id="b_dialog_html" class="b_dialog_html '+(d.myConfirmOptions.unique||"b_common_dialog_wrap")+'" yd-dialog yd-dialog-options="myConfirmOptions">';e="self"==d.myConfirmOptions.inner.type?
    e+d.myConfirmOptions.inner.html:e+'<div yd-dialog-confirm yd-dialog-confirm-options="myConfirmOptions.inner"></div>';e+="</div>";$("body").append(a(e)(d));h();return d.myConfirmOptions.defer.promise}}}]).controller("ydDialogController",["$scope","$element","$attrs",function(b,a,f){this.removeDialog=function(){};this.hideDialog=function(){};0<$("#b_dialog_html").length&&$("#b_dialog_html").remove();b.clickConfirm=function(){var c=b.options.foot.confirmCallBack;angular.isFunction(c)?!0===c()&&(b.options.defer.resolve(),
        a.remove()):(b.options.defer.resolve(),a.remove())};b.clickCancel=function(){b.options.defer.reject();f.notRemove?a.find(".b_dialog_wrap,.b_mask").css({visibility:"hidden",opacity:0}):a.remove()};a.on("remove",function(){b.options&&(b.options=null);b.$destroy()})}]).directive("ydDialog",["$animate","$document",function(b,a){return{restrict:"A",scope:{options:"=ydDialogOptions"},transclude:!0,controller:"ydDialogController",template:'<div class="b_dialog_wrap"><div class="b_dialog"><div ng-show="!options.head.hide" class="b_app_lr_padding head"><h3>{{options.head.title}}</h3><span ng-if="options.head.close" ng-click="clickCancel()" class="b_icon_common icon_close"></span></div><div class="body"><div ng-transclude></div></div><div class="b_app_lr_padding foot"><a class="b_btn b_btn_primary confirm" ng-if="options.foot.hasConfirmBtn" ng-click="clickConfirm()">{{options.foot.confirmBtnName}}</a><a class="b_btn cancel" ng-if="options.foot.hasCancelBtn" ng-click="clickCancel()">{{options.foot.cancelBtnName}}</a></div></div></div><div class="b_mask"></div>',
    link:function(b,c,g,h){var m=0,d=0,e=0,k=0,l;if(!b.options.head.hide){var p=function(){a.off("mousemove",n);a.off("mouseup",p)},n=function(a){k=a.pageY-d;e=a.pageX-m;l.css({top:k+"px",left:e+"px"})};c.find(".b_dialog .head").on("mousedown",function(b){b.preventDefault();l=$(".b_dialog_wrap");e=l.position().left;k=l.position().top;m=b.pageX-e;d=b.pageY-k;a.on("mousemove",n);a.on("mouseup",p)})}}}}]).directive("ydDialogConfirm",["$sce",function(b){return{restrict:"A",replace:!0,scope:{options:"=ydDialogConfirmOptions"},
    template:'<div class="b_confirm_inner"><div class="page_msg simple default "><div class="inner group"><span class="msg_icon_wrapper"><i class="b_icon_common icon_msg {{options.type}}"></i></span><div class="msg_content "><h4 ng-bind-html="mainContent()"></h4><p ng-bind-html="descContent()"></p></div></div></div></div>',controller:["$scope","$element",function(a,f){a.mainContent=function(){return b.trustAsHtml(a.options.main)};a.descContent=function(){return b.trustAsHtml(a.options.desc)}}]}}]);